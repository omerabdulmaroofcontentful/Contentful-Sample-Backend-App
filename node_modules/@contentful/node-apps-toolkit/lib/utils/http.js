"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HttpError = exports.createValidateStatusCode = exports.createHttpClient = void 0;
const got_1 = require("got");
Object.defineProperty(exports, "HttpError", { enumerable: true, get: function () { return got_1.HTTPError; } });
const config = {
    prefixUrl: process.env.BASE_URL || 'https://api.contentful.com',
    retry: { limit: 3 },
};
exports.createHttpClient = (configOverride = {}) => {
    return got_1.default.extend({ ...config, ...configOverride });
};
exports.createValidateStatusCode = (allowedStatusCodes) => (response) => {
    if (!allowedStatusCodes.includes(response.statusCode)) {
        console.log(response.body);
        throw new got_1.HTTPError(response);
    }
    return response;
};
//# sourceMappingURL=http.js.map